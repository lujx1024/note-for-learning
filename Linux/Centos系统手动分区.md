---
title: Centos系统手动分区 
tags: CentOS,分区
renderNumberedHeading: true
grammar_cjkRuby: true
---

[toc]
# 概述
无论在使用虚拟机或者物理机,安装CentOS操作系统时需要对硬盘进行分区处理,默认500G硬盘的系统分区示例如下所示:

![Centos Default partition](./images/1653703969654.png)

默认情况下,将根目录`/`空间分的太小,`/home`分区的空间分的太大,不合理的存储空间分配在后期会影响系统的使用。

# 手动分区方案

## 必须的分区
1. `boot`分区：
作用：引导分区，包含了系统启动的必要内核文件，即使根分区顺坏也能正常引导启动 一般这些文件所占空间在200M以下。
分区建议：分区的时候可选100M-500M之间,如果空间足够用，建议分300-500M。避免由于长期使用的冗余文件塞满这个分区。
分区格式：建议ext4，按需求更改。
2. `/ `分区（根分区）：
作用：所有的文件都从这里开始，你可以比喻为Windows的C盘，但其实有区别。如果你有大量的数据在根目录下（比如FTP等）可以划分大一点的空间。
分区建议：建议15G以上。看需求，根分区和home分区的大小就类似C盘和D盘的空间分布一样，主要占空间在哪儿就在那里分大容量。
分区格式：建议ext4，按需求更改。
3. `swap`分区：
作用：类似于Windows的虚拟内存，在内存不够用时占用硬盘的虚拟内存来进行临时数据的存放，而对于linux就是swap分区。
分区建议：建议是物理内存大小的2倍，比如你电脑是4G的物理内存，swap分区可以是8G。
分区格式：swap格式。
## 可选的分区
1. `home`分区：
作用：存放用户数据，HOME的结构一般是 HOME/userName/userFile，如果不分则默认在/目录下
分区建议：如果用户数据多可以将此分区适当增大，请参考“根分区”分区建议；一般硬盘的主要容量几乎都在Home分区和根分区下。
分区格式：建议ext4，按需求更改。
2. `var`分区：
作用：用于log日志的文件的存放，如果不分则默认在/目录下
分区建议：如果你安装的linux是用于服务器或者经常做日志分析，请划分var分区，避免日志文件不断膨胀塞满导致根分区而引发问题。
分区格式：建议ext4，按需求更改。

## 分区示例:
以500G大小的硬盘空间为例,建议分区如下:

- `/boot` : 500M
-  `/swap`: 16GB 或 32GB (建议是物理内存大小的2倍)
-  `/home`: 100G(考虑到多用户的情况)
-  `/`: 300G 以上

# 附录
由于Linux操作系统应用广泛,不同的应用需求需要使用不同的分区方案,以上的分区方案仅为其中一种,下面摘录了部分不同来源的资料,以供参考:

## linux公社分区建议

### 必须存在的分区
- `/ `分区是必须存在的分区，所有一级目录都位于该分区之下，同时还与引导/还原/修复系统等动作有关，包含了一些修复系统的程序。`文件系统层次标准`(`Filesystem Hierarchy Standard`,` FHS`)建议根分区` / `在满足系统需求的情况下，应该越小越好，这样能够最大可能的避免因为硬盘故障而导致系统损坏。同时最好不要在` / `分区创建新的子目录和存放非必要文件，推荐大小50G~100G。
- `/boot/efi` 当固件为`uefi`时，必须存在，推荐大小`200M`。
- `/biosboot` 硬盘采用`GPT`分区，而固件为`BIOS`时，必须存在，推荐大小`2M`。

> Tips：`/` 分区必须存在，`/boot/efi`和`/biosboot`在特定的情况下也必须存在。

### 推荐存在的分区
- `/boot` 包含引导系统所需的静态文件，例如`Linux内核文件`，还有`引导菜单`和一些开机所需的配置文件等等，推荐大小1G。
### 视情况而定的分区
- `/var`下是一些变化的数据，像日志，缓存等，推荐还是单独划分出来。随着系统的使用该分区的使用率会越来越大，空间需求量还是比较大的建议单独划分出来，特别是一些高负载应用将产生大量日志，推荐大小100~200G。
- `/tmp` 放置一些临时文件和程序运行中的临时文件，一些运行高负载的服务器建议划分出来，推荐大小100G。
- `/home` 这主要看服务器的用途，像ftp默认把特定用户的文件放置到该用户的家目录中，则需要尽可能的将空间分配给该分区，不过通常这种时候，会有额外的数据盘，若不提供类似服务可以不划分该分区。

- `swap` 交换分区，本应该根据内存大小划分，但现在一般情况下服务器配置都较高，划分4~8G备用即可。
- 其它像/usr和/opt一般不需要单独划分出来，通常服务器通常作为专用，不会安装很多软件，有时候可能需要划分一个 /date 存点数据。

> Tips：建议不要把硬盘全部空间划分，留一部分备用，扩容（LVM）。挂载点、分区类型、文件系统使用系统推荐即可、软raid现在没必要使用了，卷组也没有必要修改，Label（相当于Windows下给分区取名系统、软件）、Name根据实际情况设定。

### 推荐的分区方案
标称500G的硬盘，实际空间应该是在450G左右。/biosboot和/boot/efi依据实际情况，如有必要存在使用推荐大小即可。
- / 100G
- /boot 1G
- /var 100G
- swap 8G
多数情况下这些分区都可以这么分，这样450G的硬盘就大概还剩下240G，我建议至少留50G不分配，留作以后扩展分区使用，这样硬盘就还有190G未分配的空间，这些空间需要根据服务器实际用途来决定。

 **运行高负载应用**

`/tmp 100G`

因为高负载的应用经常会产生大量的临时文件，所以 /tmp 建议单独分出来，高负载的服务器的日志量也很大，建议剩下的90G可以添加给 /var ，也就是/var (100G+90G)

**测试、开发环境**

`/usr 100G`

测试、开发环境，需要安装比较多软件，所以建议单独划分一个 /usr 分区出来安装软件，剩下的90G自由决定。

**多用户环境**

`/home 100G`

多用户环境的服务器，每个用户可能经常需要在自己的家目录存放一些东西，建议单独划分一个 /home 目录，剩下的90G自由决定。

欢迎使用 **{小书匠}(xiaoshujiang)编辑器**，您可以通过 `小书匠主按钮>模板` 里的模板管理来改变新建文章的内容。